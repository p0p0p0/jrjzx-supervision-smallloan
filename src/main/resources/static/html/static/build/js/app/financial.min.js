define(function(require,exports,module){require("jquery"),exports.financePage=function(){function a(a){$.ajax({url:i,dataType:"json",success:function(e){d.datagrid({url:i}),g=[];for(var f in e[a])g.push(e[a][f]);h=g.slice(1,2).toString(),g.splice(0,2);var j=$("div.datagrid-view2 div.datagrid-body");j.on("mousedown",function(){j.on("scroll",function(a){var b=a||window.event,d=-b.currentTarget.scrollLeft;c.css("left",d)})}),b()}})}function b(){var a=echarts.init(document.getElementById("financial-char")),b={title:{subtext:"单位万元"},tooltip:{trigger:"axis"},legend:{data:[h]},textStyle:{color:"black"},backgroundColor:"white",xAxis:{type:"category",boundaryGap:!1,offset:10,data:f},yAxis:{type:"value",show:!0,offset:10,axisLabel:{}},series:[{name:h,type:"line",data:g,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{normal:{label:{show:!0}}}}]};a.setOption(b)}require("echarts"),require("easyui");var c=$("#financial-char"),d=$("#tableView"),e=$(".finance-left>button"),f=["2015-01-01","2015-01-02","2015-01-03","2015-01-04","2015-01-05","2015-01-06","2015-01-07","2015-01-08","2015-01-09","2015-01-10","2015-01-11","2015-01-12"],g=[],h="",i="static/json/fuzhai.json",j=["static/json/fuzhai.json","static/json/niandu.json","static/json/xianjin.json","static/json/yuedu.json"];e.on("click",function(){var b=$(this).index();i=j[b],a(0)}),a(0),d.datagrid({onClickRow:function(b){a(b)}})},exports.finaceCharts=function(a){require("echarts");var b=echarts.init(document.getElementById(a)),c={tooltip:{trigger:"axis"},legend:{data:["预付存款"]},textStyle:{color:"black"},backgroundColor:"white",xAxis:{type:"category",boundaryGap:!1,offset:-20,data:["2016-11","2016-12","2017-01","2017-02","2017-03","2017-04","2016-12","2017-01","2017-02","2017-03","2017-04","2016-12","2017-01","2017-02","2017-03","2017-04"]},yAxis:{type:"value",show:!0,axisLabel:{formatter:"{value}万元"}},series:[{name:"预付存款",type:"line",data:["1200","1300","2400","3000","2400","1600","1300","2400","3000","2400","1600","1300","2400","3000","2400","1600"],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]};b.setOption(c)},exports.bar=function(){var a=$(".finance-content").get(0),b=$("#financial-char").get(0),c=$("#scroll-box").get(0),d=$("#scroll-bar").get(0),e=$("#finance-data-outBox").get(0),f=a.offsetWidth,g=b.offsetWidth,h=c.offsetWidth,i=d.offsetWidth;d.onmousedown=function(a){var a=a||window.event,c=a.clientX-d.offsetLeft;document.onmousemove=function(a){var a=a||window.event,j=a.clientX-c;j<0?j=0:j>h-i&&(j=h-i);var k=(g-f)/(h-i)*j;b.style.left=-k+"px",e.style.marginLeft=-k+"px",d.style.left=j+"px",window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()},document.onmouseup=function(){document.onmousemove=null}},$(".finance-content-left button").on("click",function(){var a=$(this).index();$(this).addClass("active").siblings().removeClass("active"),$(".finance-data-box .finance-data").eq(a).addClass("active").siblings().removeClass("active"),1===a?($(".finance-content .finance-content-left ul").css("display","block"),$(".finance-content .finance-content-left ul li").on("click",function(){$(this).addClass("active").siblings().removeClass("active"),$(".finance-data-box .finance-data .profit").eq($(this).index()).addClass("active").siblings().removeClass("active")})):$(".finance-content .finance-content-left ul").css("display","none")})},exports.getMonthTable=function(a,b){var c=[];$.ajax({url:b,dataType:"json",success:function(b){for(var d in b){var e=b[d].replace("-","");c.push(parseInt(e))}for(var f=parseInt((new Date).getFullYear()),g=parseInt(Math.min.apply(Math,c)/100),h=f-g+1,i="",j=0;j<h;j++)i+="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";var k=$("#"+a).find("tbody");k.append($(i)),k.find("tr td").css("width","8.33%");var l=0,m=0;$.each(c,function(a,b){var c=parseInt(b/100);l=f-c,m=b%100-1,k.find("tr").eq(l).find("td").eq(m).html(c+"年"+(m+1)+"月")})},error:function(a){console.log(a)}})}});