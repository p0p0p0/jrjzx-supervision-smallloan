define(function(require,exports,module){exports.placeholder=function(){require("placeholder"),$("input, textarea").placeholder()},exports.getCurrentDate=function(){var a=$(".get-date");Date.prototype.pattern=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},c={0:"天",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(a)&&(a=a.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+c[this.getDay()+""]));for(var d in b)new RegExp("("+d+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[d]:("00"+b[d]).substr((""+b[d]).length)));return a};var b=new Date,c=b.pattern("yyyy年MM月dd日 EEE");a.html(c);var d=$(".nav-header");$(window).on("scroll",function(){$(window).scrollTop()>0?d.css("background","#F7F7F9"):d.css("background","none")})},exports.showMessage=function(){require("layer"),$(".regulated-info-content ul li").on("click",function(){layer.open({type:1,skin:"layui-layer-rim",area:["420px","240px"],content:"监管消息监管消息监管消息"}),$(this).css({color:"#bbb"})})},exports.login=function(){var a=$("#login"),b=$("#account"),c=$("#password"),d=$(".panel-tips"),e=$(".modify-pwd"),f=$(".login-box"),g=$(".modify-pwd-box");document.onclick=function(a){"INPUT"==a.target.nodeName.toLocaleUpperCase()?(d.text(""),document.onclick=null):d.text("未登录,请输入登录账号")},b.blur(function(){seajs.use("user",function(a){a.checkAccount("account")})}),c.blur(function(){seajs.use("user",function(a){a.checkPwd("password")})}),e.click(function(a){var a=a||window.event;a.stopPropagation(),f.fadeOut(500),g.fadeIn(1200),d.text("")}),a.on("click",function(){seajs.use("user",function(a){a.checkPwd("password")})})},exports.modifyPassword=function(){var a=$("#old-password"),b=$("#new-password"),c=$("#confirm-password"),d=$(".return-login"),e=$(".panel-tips"),f=$(".login-box"),g=$(".modify-pwd-box");a.blur(function(){return""==$(this).val()?(e.text("请输入原始密码"),!1):(e.text(""),!0)}),b.blur(function(){var a=$(this).val();return/(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,}/.test(a)&&""!=a?(e.text(""),!0):(e.text("密码至少8位,必需含字母数字"),!1)}),c.blur(function(){var a=$("#new-password").val(),b=$("#confirm-password").val();return console.log(a),console.log(b),a!==b||""==b?(e.text("密码不一致,请重新输入"),!1):(e.text(""),!0)}),d.click(function(a){var a=a||window.event;a.stopPropagation(),g.fadeOut(500),f.fadeIn(1200),e.text("")})},exports.getDayly=function(){require("datetimepicker"),$(".form_datetime").datetimepicker({format:"yyyy-mm-dd",autoclose:!0,startView:"month",minView:"year",maxView:"decade",language:"zh-CN",bootcssVer:3})},exports.getMonthly=function(){require("datetimepicker"),$(".form_monthtime").datetimepicker({format:"yyyy-mm",autoclose:!0,startView:"year",minView:"year",maxView:"decade",language:"zh-CN",bootcssVer:3})},exports.tableFun=function(a,b){var c=$("."+a),d=$("."+b);c.find("button").on("click",function(){$(this).addClass("active").siblings().removeClass("active"),d.find(".tabTable").eq($(this).index()).addClass("cur").siblings().removeClass("cur")})},exports.toSearch=function(){var a=$(".searchSpan"),b=$(".searchContent");a.on("click",function(){b.slideToggle();var c=a.find(".glyphicon");c.hasClass("glyphicon-arrow-down")?c.removeClass("glyphicon-arrow-down").addClass("glyphicon-arrow-up"):c.removeClass("glyphicon-arrow-up").addClass("glyphicon-arrow-down")})},exports.bar=function(){var a=$(".finance-content").get(0),b=$("#financial-char").get(0),c=$("#scroll-box").get(0),d=$("#scroll-bar").get(0),e=$("#finance-data-outBox").get(0),f=a.offsetWidth,g=b.offsetWidth,h=c.offsetWidth,i=d.offsetWidth;d.onmousedown=function(a){var a=a||window.event,c=a.clientX-d.offsetLeft;document.onmousemove=function(a){var a=a||window.event,j=a.clientX-c;j<0?j=0:j>h-i&&(j=h-i);var k=(g-f)/(h-i)*j;b.style.left=-k+"px",e.style.marginLeft=-k+"px",d.style.left=j+"px",window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()},document.onmouseup=function(){document.onmousemove=null}},$(".finance-content-left button").on("click",function(){var a=$(this).index();$(this).addClass("active").siblings().removeClass("active"),$(".finance-data-box .finance-data").eq(a).addClass("active").siblings().removeClass("active"),1===a?($(".finance-content .finance-content-left ul").css("display","block"),$(".finance-content .finance-content-left ul li").on("click",function(){$(this).addClass("active").siblings().removeClass("active"),$(".finance-data-box .finance-data .profit").eq($(this).index()).addClass("active").siblings().removeClass("active")})):$(".finance-content .finance-content-left ul").css("display","none")})},exports.shareholderTab=function(){$("input[name='shareholder']").click(function(){"option1"==$(this).val()?$(".corporate_shareholder").addClass("cur").siblings().removeClass("cur"):$(".natural_shareholder").addClass("cur").siblings().removeClass("cur")})},exports.contractTab=function(){$(".contract-view ul li").on("click",function(){$(this).addClass("active").siblings().removeClass("active"),$(".contract-view .contract-view-table").eq($(this).index()).addClass("active").siblings().removeClass("active")})},exports.finaceCharts=function(a){require("echarts");var b=echarts.init(document.getElementById(a)),c={tooltip:{trigger:"axis"},legend:{data:["预付存款"]},textStyle:{color:"black"},backgroundColor:"white",xAxis:{type:"category",boundaryGap:!1,offset:-20,data:["2016-11","2016-12","2017-01","2017-02","2017-03","2017-04","2016-12","2017-01","2017-02","2017-03","2017-04","2016-12","2017-01","2017-02","2017-03","2017-04"]},yAxis:{type:"value",show:!0,axisLabel:{formatter:"{value}万元"}},series:[{name:"预付存款",type:"line",data:["1200","1300","2400","3000","2400","1600","1300","2400","3000","2400","1600","1300","2400","3000","2400","1600"],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]};b.setOption(c)},exports.assetCharts=function(a){require("echarts");var b=echarts.init(document.getElementById(a)),c={title:{text:"贷款资产五级分类"},tooltip:{trigger:"axis"},legend:{data:["正常","关注","次级","可疑","损失"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["2016-11","2016-12","2017-01","2017-02","2017-03","2017-04"]},yAxis:{type:"value",axisLabel:{formatter:"{value}万元"}},series:[{name:"正常",type:"line",stack:"总量",areaStyle:{normal:{}},data:["5000","4000","4100","4200","3600","600"]},{name:"关注",type:"line",stack:"总量",areaStyle:{normal:{}},data:["800","850","700","720","600","300"]},{name:"次级",type:"line",stack:"总量",areaStyle:{normal:{}},data:["700","650","620","580","400","200"]},{name:"可疑",type:"line",stack:"总量",areaStyle:{normal:{}},data:["600","520","250","230","160","100"]},{name:"损失",type:"line",stack:"总量",areaStyle:{normal:{}},data:["100","80","60","50","40","30"]}]};b.setOption(c)},exports.addItem=function(a){$("."+a).on("click",function(){if($(this).parent().find("tbody").hasClass("study"))var a=$(".study"),b='<td ><input type="text" class="dateIcon form_monthtime"><i class="glyphicon glyphicon-calendar"></i></td><td ><input type="text" class="dateIcon form_monthtime"><i class="glyphicon glyphicon-calendar"></i></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><a class="del" href="javascript:;">删除</a></td>';else if($(this).parent().find("tbody").hasClass("work"))var a=$(".work"),b='<td ><input type="text" class="dateIcon form_monthtime"><i class="glyphicon glyphicon-calendar"></i></td><td ><input type="text" class="dateIcon form_monthtime"><i class="glyphicon glyphicon-calendar"></i></td><td><input type="text"></td><td><input type="text"></td><td><a class="del" href="javascript:;">删除</a></td>';else if($(this).parent().find("tbody").hasClass("member"))var a=$(".member"),b='<td><input type="text"></td><td><input type="text"></td><td><select  class="form-control" style="text-align: center;width: 60%;margin: 0 20%"><option value="">男</option><option value="">女</option></select></td><td><input type="text"></td><td><a class="del" href="javascript:;">删除</a></td>';else{if(!$(this).parent().find("tbody").hasClass("new_rep"))return!1;var a=$(".new_rep"),b='<tr><td ><input type="text" class="dateIcon form_datetime"></td><td ><input type="text" ></td><td ><input type="text" ></td></tr>'}var c=$("<tr></tr>");c.get(0).innerHTML=b,a.append(c)})},exports.delItem=function(a){$("tbody").on("click","."+a,function(){$(this).parent().parent().remove()})},exports.newPlan=function(){require("layer"),$("#new-plan").on("click",function(){layer.confirm("新建展期后，原计划不可用，新建展期计划还款本金不能小于原计划还款本金余额。",{btn:["确定","取消"]},function(){layer.closeAll()},function(){})})}});